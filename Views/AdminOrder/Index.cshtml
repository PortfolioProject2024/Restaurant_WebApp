@model IEnumerable<Restaurant_WebApp.Models.Order>

@{
    ViewData["Title"] = "Order List";
    Layout = "/Views/CustomeLayout/_AdminLayout.cshtml";
}


<div class="container my-4">
    <h1 style="color: #ffa500; margin-left: 30px;">Order List</h1>

    <div class="table-responsive">
        <table class="table table-dark table-striped table-hover">
            <thead>
                <tr>
                    <th>Order ID</th>
                    <th>Order Date</th>
                    <th>Total Price</th>
                    <th>User</th>
                    <th>Special Comment</th>
                    <th>Items</th>
                    <th>ACTIONS</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var order in Model)
                {
                    <tr>
                        <td>@order.Id</td>
                        <td>@order.OrderDate</td>
                        <td>@order.TotalPrice</td>
                        <td>@(order.User != null ? order.User.UserName : "N/A")</td>
                        <td>@order.SpecialComment</td>
                        <td>
                            <ul class="list-unstyled">
                                @foreach (var item in order.OrderItems)
                                {
                                    <li>
                                        @item.FoodItems?.FoodName - @item.Quantity x @item.FoodItems?.FoodPrice
                                        <br />
                                        <strong>Comment:</strong> @item.Comment
                                    </li>
                                }
                            </ul>
                        </td>
                        <td>
                            <a asp-action="Edit" asp-route-id="@order.Id" class="btn btn-sm btn-primary">Edit</a>
                            <a asp-action="Delete" asp-route-id="@order.Id" class="btn btn-sm btn-danger">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>